<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secrets & Safety</title>
    <style>
        :root { --accent:#64ffda; --bg-overlay:rgba(0,0,0,0.72); --card-bg:rgba(5,10,20,0.92); --text:#f5f5f5; --muted:#a0aec0; }
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:Arial,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#000;color:var(--text);height:100vh;overflow:hidden;display:flex;align-items:center;justify-content:center}
        .slide-stage{position:relative;width:100vw;height:100vh;max-width:1920px;max-height:1080px;background-image:url('../../resources/logo/background.png');background-size:cover;background-position:center;box-shadow:0 20px 60px rgba(0,0,0,0.6)}
        .slide-stage::before{content:'';position:absolute;inset:0;background:var(--bg-overlay)}
        .hornet-badge{position:absolute;top:40px;right:60px;width:110px;height:110px;background:url('../../resources/logo/angry-hornet.png') no-repeat center;background-size:contain;z-index:2;filter:drop-shadow(3px 6px 12px rgba(0,0,0,0.6))}
        .slides{position:relative;height:100%;width:100%;overflow:hidden;z-index:1}
        .slide{position:absolute;inset:6%;background:var(--card-bg);border:4px solid var(--accent);border-radius:32px;padding:60px 80px;display:flex;flex-direction:column;gap:24px;box-shadow:0 20px 60px rgba(0,0,0,0.55);opacity:0;transform:translateX(80px);transition:opacity .6s ease,transform .6s ease}
        .slide.active{opacity:1;transform:translateX(0);z-index:3}
        .slide-title{font-size:3rem;color:var(--accent);text-transform:uppercase;letter-spacing:3px;text-shadow:0 6px 18px rgba(0,0,0,.7)}
        .slide-sub{font-size:1.4rem;color:var(--muted);max-width:780px;line-height:1.5}
        ul{list-style:none}
        ul li{font-size:1.4rem;margin-bottom:14px;padding-left:32px;position:relative;line-height:1.4}
        ul li::before{content:'▶';color:var(--accent);position:absolute;left:0;top:2px;font-size:1.2rem}
        .callout{background:rgba(100,255,218,0.12);border-left:6px solid var(--accent);padding:18px 22px;color:var(--muted)}
        pre{background:#06141f;padding:16px 20px;border-radius:16px;border:2px solid rgba(100,255,218,0.35);color:#e6fffa;font-family:"JetBrains Mono",Menlo,Consolas,monospace;font-size:1rem;line-height:1.45;overflow:auto}
        .nav-bar{position:absolute;bottom:30px;left:50%;transform:translateX(-50%);display:flex;align-items:center;gap:20px;z-index:4;background:rgba(0,0,0,0.65);padding:16px 28px;border-radius:999px;border:2px solid var(--accent);font-size:1.1rem}
        .nav-button{background:transparent;border:2px solid var(--accent);color:var(--accent);font-size:1.1rem;padding:10px 18px;border-radius:999px;cursor:pointer;transition:background .2s,color .2s}
        .nav-button:hover{background:var(--accent);color:#1a1a1a}
        .progress-dots{display:flex;align-items:center;gap:10px}
        .progress-dots span{width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,.25)}
        .progress-dots span.active{background:var(--accent)}
    </style>
</head>
<body>
    <div class="slide-stage">
        <div class="hornet-badge" aria-hidden="true"></div>
        <div class="slides" role="region" aria-live="polite">
            <section class="slide active" data-index="0">
                <h1 class="slide-title">Secrets &amp; Safety</h1>
                <div class="slide-sub">Protect API keys, tokens, and credentials from day one. Build habits that scale with the team.</div>
                <div class="callout">Use ⬅️ ➡️ arrows or the buttons below to navigate.</div>
            </section>

            <section class="slide" data-index="1">
                <h2 class="slide-title">Real Talk: How Leaks Happen</h2>
                <ul>
                    <li>Commit a quick test credential “just for now”.</li>
                    <li>Copy/paste secrets into chat or screenshots.</li>
                    <li>Ship repos without <code>.gitignore</code> or secret scanning.</li>
                </ul>
                <div class="callout">Reminder: bots crawl GitHub within minutes hunting exposed keys.</div>
            </section>

            <section class="slide" data-index="2">
                <h2 class="slide-title">Environment Variables 101</h2>
                <ul>
                    <li>Store config in env vars, not code. Different values per environment.</li>
                    <li>Access via <code>process.env</code> / <code>os.Getenv</code> / <code>os.environ</code>.</li>
                    <li>Ship a <code>.env.example</code> template with placeholder instructions.</li>
                </ul>
            </section>

            <section class="slide" data-index="3">
                <h2 class="slide-title">Local Setup Workflow</h2>
                <ul>
                    <li>Create <code>.env</code> in project root; add to <code>.gitignore</code>.</li>
                    <li>Load automatically with <code>dotenv</code> (JS), <code>godotenv</code> (Go), framework helpers.</li>
                    <li>Store real values in 1Password/Bitwarden; share via secure note.</li>
                </ul>
                <pre><code># .env
SUPABASE_URL=https://...
SUPABASE_KEY=anon-key
</code></pre>
            </section>

            <section class="slide" data-index="4">
                <h2 class="slide-title">Direnv Power-Up</h2>
                <ul>
                    <li>Install <code>direnv</code>, hook into shell: <code>eval "$(direnv hook zsh)"</code>.</li>
                    <li>Add <code>.envrc</code> with exports; grant once via <code>direnv allow</code>.</li>
                    <li>Keeps secrets out of Git while loading them automatically per project.</li>
                </ul>
                <div class="callout">Teach advanced students so they stop leaking keys during demos.</div>
            </section>

            <section class="slide" data-index="5">
                <h2 class="slide-title">Git Hygiene</h2>
                <ul>
                    <li>Add secrets, build artifacts, and logs to <code>.gitignore</code>.</li>
                    <li>Use <code>git status</code> before every commit to spot mistakes.</li>
                    <li>Run secret scanners (Gitleaks, GitHub code scanning) in CI.</li>
                </ul>
            </section>

            <section class="slide" data-index="6">
                <h2 class="slide-title">If You Leak Something</h2>
                <ul>
                    <li>Revoke or rotate the credential immediately.</li>
                    <li>Remove from history (<code>git rm --cached</code>, BFG, filter-repo) and force-push with consent.</li>
                    <li>Write a short incident recap + preventive guardrail.</li>
                </ul>
            </section>

            <section class="slide" data-index="7">
                <h2 class="slide-title">Lab: Leak &amp; Recover</h2>
                <ul>
                    <li>Instructor commits a dummy key; students find it with <code>git log</code>.</li>
                    <li>Walk through revoking, rewriting history, configuring <code>.gitignore</code>.</li>
                    <li>Enable secret scanning in repo settings; rerun to verify.</li>
                </ul>
                <div class="callout">Deliverable: checklist of steps to perform when a secret leaks.</div>
            </section>

            <section class="slide" data-index="8">
                <h2 class="slide-title">Resources &amp; Next</h2>
                <ul>
                    <li><a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets" target="_blank" rel="noopener">GitHub: encrypted secrets</a></li>
                    <li><a href="https://github.com/gitleaks/gitleaks" target="_blank" rel="noopener">Gitleaks quickstart</a></li>
                    <li><a href="https://12factor.net/config" target="_blank" rel="noopener">Twelve-Factor: Config</a></li>
                </ul>
                <div class="callout">Homework: Add <code>.env.example</code>, <code>.gitignore</code>, and secret checklist to your project repo.</div>
            </section>
        </div>

        <div class="nav-bar" role="navigation" aria-label="Slide controls">
            <button class="nav-button" id="prevBtn" type="button" aria-label="Previous slide">⬅️ Back</button>
            <div class="progress-dots" aria-hidden="true"></div>
            <button class="nav-button" id="nextBtn" type="button" aria-label="Next slide">Next ➡️</button>
        </div>
    </div>

    <script>
        const slides = Array.from(document.querySelectorAll('.slide'));
        const dotsContainer = document.querySelector('.progress-dots');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        let current = 0;
        function buildDots(){slides.forEach((_,i)=>{const d=document.createElement('span');d.dataset.index=i;dotsContainer.appendChild(d);});}
        function updateDots(){dotsContainer.querySelectorAll('span').forEach((dot,i)=>{dot.classList.toggle('active',i===current)});}
        function showSlide(i){if(i<0||i>=slides.length)return;slides[current].classList.remove('active');current=i;slides[current].classList.add('active');updateDots();}
        const nextSlide=()=>{if(current<slides.length-1)showSlide(current+1)}; const prevSlide=()=>{if(current>0)showSlide(current-1)};
        document.addEventListener('keydown',e=>{if(e.key==='ArrowRight')nextSlide(); if(e.key==='ArrowLeft')prevSlide();});
        buildDots(); updateDots(); prevBtn.addEventListener('click',prevSlide); nextBtn.addEventListener('click',nextSlide);
        dotsContainer.addEventListener('click',e=>{if(e.target.tagName.toLowerCase()==='span'){showSlide(Number(e.target.dataset.index));}});
    </script>
</body>
</html>
